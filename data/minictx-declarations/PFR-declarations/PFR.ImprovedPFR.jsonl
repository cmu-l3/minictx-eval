{"name":"entropic_PFR_conjecture_improv","declaration":"/-- `entropic_PFR_conjecture_improv`: For two $G$-valued random variables $X^0_1, X^0_2$, there is some\nsubgroup $H \\leq G$ such that $d[X^0_1;U_H] + d[X^0_2;U_H] \\le 10 d[X^0_1;X^0_2]$. -/\ntheorem entropic_PFR_conjecture_improv {Ω₀₁ : Type u_1} {Ω₀₂ : Type u_2} [MeasureTheory.MeasureSpace Ω₀₁] [MeasureTheory.MeasureSpace Ω₀₂] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] {G : Type uG} [AddCommGroup G] [ElementaryAddCommGroup G 2] [Fintype G] [MeasurableSpace G] [MeasurableSingletonClass G] (p : refPackage Ω₀₁ Ω₀₂ G) (hpη : p.η = 1 / 8) : ∃ H Ω mΩ U,\n  MeasureTheory.IsProbabilityMeasure MeasureTheory.volume ∧\n    Measurable U ∧\n      ProbabilityTheory.IsUniform (↑H) U MeasureTheory.volume ∧ d[p.X₀₁ # U] + d[p.X₀₂ # U] ≤ 10 * d[p.X₀₁ # p.X₀₂]"}
{"name":"gen_ineq_aux1","declaration":"theorem gen_ineq_aux1 {G : Type u_1} [AddCommGroup G] [Fintype G] [hG : MeasurableSpace G] [MeasurableSingletonClass G] [ElementaryAddCommGroup G 2] [MeasurableAdd₂ G] {Ω : Type u_2} [MeasureTheory.MeasureSpace Ω] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] {Ω₀ : Type u_3} [MeasureTheory.MeasureSpace Ω₀] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] (Y : Ω₀ → G) (hY : Measurable Y) (Z₁ : Ω → G) (Z₂ : Ω → G) (Z₃ : Ω → G) (Z₄ : Ω → G) (hZ₁ : Measurable Z₁) (hZ₂ : Measurable Z₂) (hZ₃ : Measurable Z₃) (hZ₄ : Measurable Z₄) (h_indep : ProbabilityTheory.iIndepFun (fun _i => hG) ![Z₁, Z₂, Z₃, Z₄] MeasureTheory.volume) : d[Y # Z₁ + Z₂ | ⟨Z₁ + Z₃, Z₁ + Z₂ + Z₃ + Z₄⟩] ≤\n  d[Y # Z₁] + (d[Z₁ # Z₂] + d[Z₁ # Z₃] + d[Z₂ # Z₄] - d[Z₁ | Z₁ + Z₂ # Z₃ | Z₃ + Z₄]) / 2 +\n    (H[Z₁ + Z₂] - H[Z₃ + Z₄] + H[Z₂] - H[Z₁]) / 4"}
{"name":"tau_strictly_decreases_aux'","declaration":"/-- Suppose $0 < \\eta < 1/8$.  Let $X_1, X_2$ be tau-minimizers.  Then $d[X_1;X_2] = 0$. The proof\nof this lemma uses copies `X₁', X₂'` already in the context. For a version that does not assume\nthese are given and constructs them instead, use `tau_strictly_decreases'`.\n-/\ntheorem tau_strictly_decreases_aux' {G : Type u_1} [AddCommGroup G] [Fintype G] [hG : MeasurableSpace G] [MeasurableSingletonClass G] [ElementaryAddCommGroup G 2] [MeasurableAdd₂ G] {Ω₀₁ : Type u_2} {Ω₀₂ : Type u_3} [MeasureTheory.MeasureSpace Ω₀₁] [MeasureTheory.MeasureSpace Ω₀₂] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] (p : refPackage Ω₀₁ Ω₀₂ G) {Ω : Type u_4} [MeasureTheory.MeasureSpace Ω] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] {X₁ : Ω → G} {X₂ : Ω → G} {X₁' : Ω → G} {X₂' : Ω → G} (hX₁ : Measurable X₁) (hX₂ : Measurable X₂) (hX₁' : Measurable X₁') (hX₂' : Measurable X₂') (h₁ : ProbabilityTheory.IdentDistrib X₁ X₁' MeasureTheory.volume MeasureTheory.volume) (h₂ : ProbabilityTheory.IdentDistrib X₂ X₂' MeasureTheory.volume MeasureTheory.volume) (h_indep : ProbabilityTheory.iIndepFun (fun _i => hG) ![X₁, X₂, X₂', X₁'] MeasureTheory.volume) (h_min : tau_minimizes p X₁ X₂) (hp : 8 * p.η < 1) : d[X₁ # X₂] = 0"}
{"name":"entropic_PFR_conjecture_improv'","declaration":"/-- `entropic_PFR_conjecture_improv'`: For two $G$-valued random variables $X^0_1, X^0_2$, there is\nsome subgroup $H \\leq G$ such that $d[X^0_1;U_H] + d[X^0_2;U_H] \\le 10 d[X^0_1;X^0_2]$., and\nd[X^0_1; U_H] and d[X^0_2; U_H] are at most 5/2 * d[X^0_1;X^0_2] -/\ntheorem entropic_PFR_conjecture_improv' {Ω₀₁ : Type u_1} {Ω₀₂ : Type u_2} [MeasureTheory.MeasureSpace Ω₀₁] [MeasureTheory.MeasureSpace Ω₀₂] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] {G : Type uG} [AddCommGroup G] [ElementaryAddCommGroup G 2] [Fintype G] [MeasurableSpace G] [MeasurableSingletonClass G] (p : refPackage Ω₀₁ Ω₀₂ G) (hpη : p.η = 1 / 8) : ∃ H Ω mΩ U,\n  MeasureTheory.IsProbabilityMeasure MeasureTheory.volume ∧\n    Measurable U ∧\n      ProbabilityTheory.IsUniform (↑H) U MeasureTheory.volume ∧\n        d[p.X₀₁ # U] + d[p.X₀₂ # U] ≤ 10 * d[p.X₀₁ # p.X₀₂] ∧\n          d[p.X₀₁ # U] ≤ 11 / 2 * d[p.X₀₁ # p.X₀₂] ∧ d[p.X₀₂ # U] ≤ 11 / 2 * d[p.X₀₁ # p.X₀₂]"}
{"name":"dist_diff_bound_1","declaration":"theorem dist_diff_bound_1 {G : Type u_1} [AddCommGroup G] [Fintype G] [hG : MeasurableSpace G] [MeasurableSingletonClass G] [ElementaryAddCommGroup G 2] [MeasurableAdd₂ G] {Ω₀₁ : Type u_2} {Ω₀₂ : Type u_3} [MeasureTheory.MeasureSpace Ω₀₁] [MeasureTheory.MeasureSpace Ω₀₂] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] (p : refPackage Ω₀₁ Ω₀₂ G) {Ω : Type u_4} [MeasureTheory.MeasureSpace Ω] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] {X₁ : Ω → G} {X₂ : Ω → G} {X₁' : Ω → G} {X₂' : Ω → G} (hX₁ : Measurable X₁) (hX₂ : Measurable X₂) (hX₁' : Measurable X₁') (hX₂' : Measurable X₂') (h₁ : ProbabilityTheory.IdentDistrib X₁ X₁' MeasureTheory.volume MeasureTheory.volume) (h₂ : ProbabilityTheory.IdentDistrib X₂ X₂' MeasureTheory.volume MeasureTheory.volume) (h_indep : ProbabilityTheory.iIndepFun (fun _i => hG) ![X₁, X₂, X₂', X₁'] MeasureTheory.volume) : d[p.X₀₁ # X₁ + X₂ | ⟨X₁' + X₂, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₁ # X₁] +\n            (d[p.X₀₁ # X₁ + X₂ | ⟨X₁' + X₁, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₁ # X₁]) +\n          (d[p.X₀₁ # X₁' + X₂ | ⟨X₁ + X₂, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₁ # X₁]) +\n        (d[p.X₀₁ # X₁' + X₂ | ⟨X₁' + X₁, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₁ # X₁]) +\n      (d[p.X₀₁ # X₁' + X₁ | ⟨X₁ + X₂, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₁ # X₁]) +\n    (d[p.X₀₁ # X₁' + X₁ | ⟨X₁' + X₂, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₁ # X₁]) ≤\n  (16 * d[X₁ # X₂] + 6 * d[X₁ # X₁] + 2 * d[X₂ # X₂]) / 4 + (H[X₁ + X₁'] - H[X₂ + X₂']) / 4 +\n    (H[X₂ | X₂ + X₂'] - H[X₁ | X₁ + X₁']) / 4"}
{"name":"PFR_conjecture_improv'","declaration":"/-- Corollary of `PFR_conjecture_improv` in which the ambient group is not required to be finite\n(but) then $H$ and $c$ are finite. -/\ntheorem PFR_conjecture_improv' {G : Type u_3} [AddCommGroup G] [ElementaryAddCommGroup G 2] {A : Set G} {K : ℝ} (h₀A : Set.Nonempty A) (Afin : Set.Finite A) (hA : ↑(Nat.card ↑(A + A)) ≤ K * ↑(Nat.card ↑A)) : ∃ H c, Set.Finite c ∧ Set.Finite ↑H ∧ ↑(Nat.card ↑c) < 2 * K ^ 11 ∧ Nat.card ↥H ≤ Nat.card ↑A ∧ A ⊆ c + ↑H"}
{"name":"PFR_conjecture_improv_aux","declaration":"/-- Auxiliary statement towards the polynomial Freiman-Ruzsa (PFR) conjecture: if $A$ is a subset of\nan elementary abelian 2-group of doubling constant at most $K$, then there exists a subgroup $H$\nsuch that $A$ can be covered by at most $K^6 |A|^{1/2} / |H|^{1/2}$ cosets of $H$, and $H$ has\nthe same cardinality as $A$ up to a multiplicative factor $K^10$. -/\ntheorem PFR_conjecture_improv_aux {G : Type u_1} [AddCommGroup G] [ElementaryAddCommGroup G 2] [Fintype G] {A : Set G} {K : ℝ} (h₀A : Set.Nonempty A) (hA : ↑(Nat.card ↑(A + A)) ≤ K * ↑(Nat.card ↑A)) : ∃ H c,\n  ↑(Nat.card ↑c) ≤ K ^ 6 * ↑(Nat.card ↑A) ^ (1 / 2) * ↑(Nat.card ↑↑H) ^ (-1 / 2) ∧\n    ↑(Nat.card ↥H) ≤ K ^ 10 * ↑(Nat.card ↑A) ∧ ↑(Nat.card ↑A) ≤ K ^ 10 * ↑(Nat.card ↥H) ∧ A ⊆ c + ↑H"}
{"name":"tau_strictly_decreases'","declaration":"theorem tau_strictly_decreases' {G : Type u_1} [AddCommGroup G] [Fintype G] [hG : MeasurableSpace G] [MeasurableSingletonClass G] [ElementaryAddCommGroup G 2] [MeasurableAdd₂ G] {Ω₀₁ : Type u_2} {Ω₀₂ : Type u_3} [MeasureTheory.MeasureSpace Ω₀₁] [MeasureTheory.MeasureSpace Ω₀₂] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] (p : refPackage Ω₀₁ Ω₀₂ G) {Ω : Type u_4} [MeasureTheory.MeasureSpace Ω] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] {X₁ : Ω → G} {X₂ : Ω → G} (hX₁ : Measurable X₁) (hX₂ : Measurable X₂) (h_min : tau_minimizes p X₁ X₂) (hp : 8 * p.η < 1) : d[X₁ # X₂] = 0"}
{"name":"gen_ineq_00","declaration":"/-- Let $Z_1, Z_2, Z_3, Z_4$ be independent $G$-valued random variables, and let $Y$ be another\n$G$-valued random variable.  Set $S := Z_1+Z_2+Z_3+Z_4$. Then\n$d[Y; Z_1+Z_2|Z_1 + Z_3, S] - d[Y; Z_1]$ is at most\n$$ \\tfrac{1}{4} (d[Z_1;Z_2] + 2d[Z_1;Z_3] + d[Z_2;Z_4])$$\n$$+ \\tfrac{1}{4}(d[Z_1|Z_1 + Z_3 ; Z_2|Z_2+Z_4] - d[Z_1|Z_1+Z_2 ; Z_3|Z_3+Z_4]])$$\n$$+ \\tfrac{1}{8} (\\bbH[Z_1+Z_2] - \\bbH[Z_3+Z_4] + \\bbH[Z_2] - \\bbH[Z_3]$$\n$$ + \\bbH[Z_2|Z_2+Z_4] - \\bbH[Z_1|Z_1+Z_3]).$$\n-/\ntheorem gen_ineq_00 {G : Type u_1} [AddCommGroup G] [Fintype G] [hG : MeasurableSpace G] [MeasurableSingletonClass G] [ElementaryAddCommGroup G 2] [MeasurableAdd₂ G] {Ω : Type u_2} [MeasureTheory.MeasureSpace Ω] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] {Ω₀ : Type u_3} [MeasureTheory.MeasureSpace Ω₀] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] (Y : Ω₀ → G) (hY : Measurable Y) (Z₁ : Ω → G) (Z₂ : Ω → G) (Z₃ : Ω → G) (Z₄ : Ω → G) (hZ₁ : Measurable Z₁) (hZ₂ : Measurable Z₂) (hZ₃ : Measurable Z₃) (hZ₄ : Measurable Z₄) (h_indep : ProbabilityTheory.iIndepFun (fun _i => hG) ![Z₁, Z₂, Z₃, Z₄] MeasureTheory.volume) : d[Y # Z₁ + Z₂ | ⟨Z₁ + Z₃, Z₁ + Z₂ + Z₃ + Z₄⟩] - d[Y # Z₁] ≤\n  (d[Z₁ # Z₂] + 2 * d[Z₁ # Z₃] + d[Z₂ # Z₄]) / 4 +\n      (d[Z₁ | Z₁ + Z₃ # Z₂ | Z₂ + Z₄] - d[Z₁ | Z₁ + Z₂ # Z₃ | Z₃ + Z₄]) / 4 +\n    (H[Z₁ + Z₂] - H[Z₃ + Z₄] + H[Z₂] - H[Z₃] + H[Z₂ | Z₂ + Z₄] - H[Z₁ | Z₁ + Z₃]) / 8"}
{"name":"tau_minimizer_exists_rdist_eq_zero","declaration":"/-- For `p.η ≤ 1/8`, there exist τ-minimizers `X₁, X₂` at zero Rusza distance. For `p.η < 1/8`,\nall minimizers are fine, by `tau_strictly_decreases'`. For `p.η = 1/8`, we use a limit of\nminimizers for `η < 1/8`, which exists by compactness. -/\ntheorem tau_minimizer_exists_rdist_eq_zero {Ω₀₁ : Type u_1} {Ω₀₂ : Type u_2} [MeasureTheory.MeasureSpace Ω₀₁] [MeasureTheory.MeasureSpace Ω₀₂] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] {G : Type uG} [AddCommGroup G] [ElementaryAddCommGroup G 2] [Fintype G] [MeasurableSpace G] [MeasurableSingletonClass G] (p : refPackage Ω₀₁ Ω₀₂ G) : ∃ Ω mΩ X₁ X₂,\n  Measurable X₁ ∧\n    Measurable X₂ ∧ MeasureTheory.IsProbabilityMeasure MeasureTheory.volume ∧ tau_minimizes p X₁ X₂ ∧ d[X₁ # X₂] = 0"}
{"name":"construct_good_improved''","declaration":"/-- Rephrase `construct_good_improved'` with an explicit probability measure, as we will\napply it to (varying) conditional measures. -/\ntheorem construct_good_improved'' {G : Type u_1} [AddCommGroup G] [Fintype G] [hG : MeasurableSpace G] [MeasurableSingletonClass G] [ElementaryAddCommGroup G 2] [MeasurableAdd₂ G] {Ω₀₁ : Type u_2} {Ω₀₂ : Type u_3} [MeasureTheory.MeasureSpace Ω₀₁] [MeasureTheory.MeasureSpace Ω₀₂] {p : refPackage Ω₀₁ Ω₀₂ G} {Ω : Type u_4} [MeasureTheory.MeasureSpace Ω] {X₁ : Ω → G} {X₂ : Ω → G} (h_min : tau_minimizes p X₁ X₂) {Ω' : Type u_6} [MeasurableSpace Ω'] (μ : MeasureTheory.Measure Ω') [MeasureTheory.IsProbabilityMeasure μ] {T₁ : Ω' → G} {T₂ : Ω' → G} {T₃ : Ω' → G} (hT : T₁ + T₂ + T₃ = 0) (hT₁ : Measurable T₁) (hT₂ : Measurable T₂) (hT₃ : Measurable T₃) : d[X₁ # X₂] ≤\n  I[T₁ : T₂ ; μ] + I[T₂ : T₃ ; μ] + I[T₃ : T₁ ; μ] +\n    p.η / 6 *\n      (d[p.X₀₁ ; MeasureTheory.volume # T₁ | T₂ ; μ] - d[p.X₀₁ # X₁] +\n                            (d[p.X₀₁ ; MeasureTheory.volume # T₁ | T₃ ; μ] - d[p.X₀₁ # X₁]) +\n                          (d[p.X₀₁ ; MeasureTheory.volume # T₂ | T₁ ; μ] - d[p.X₀₁ # X₁]) +\n                        (d[p.X₀₁ ; MeasureTheory.volume # T₂ | T₃ ; μ] - d[p.X₀₁ # X₁]) +\n                      (d[p.X₀₁ ; MeasureTheory.volume # T₃ | T₁ ; μ] - d[p.X₀₁ # X₁]) +\n                    (d[p.X₀₁ ; MeasureTheory.volume # T₃ | T₂ ; μ] - d[p.X₀₁ # X₁]) +\n                  (d[p.X₀₂ ; MeasureTheory.volume # T₁ | T₂ ; μ] - d[p.X₀₂ # X₂]) +\n                (d[p.X₀₂ ; MeasureTheory.volume # T₁ | T₃ ; μ] - d[p.X₀₂ # X₂]) +\n              (d[p.X₀₂ ; MeasureTheory.volume # T₂ | T₁ ; μ] - d[p.X₀₂ # X₂]) +\n            (d[p.X₀₂ ; MeasureTheory.volume # T₂ | T₃ ; μ] - d[p.X₀₂ # X₂]) +\n          (d[p.X₀₂ ; MeasureTheory.volume # T₃ | T₁ ; μ] - d[p.X₀₂ # X₂]) +\n        (d[p.X₀₂ ; MeasureTheory.volume # T₃ | T₂ ; μ] - d[p.X₀₂ # X₂]))"}
{"name":"construct_good_prelim'","declaration":"/-- For any $T_1, T_2, T_3$ adding up to $0$, then $k$ is at most\n$$ \\delta + \\eta (d[X^0_1;T_1|T_3]-d[X^0_1;X_1]) + \\eta (d[X^0_2;T_2|T_3]-d[X^0_2;X_2])$$\nwhere $\\delta = I[T₁ : T₂ ; μ] + I[T₂ : T₃ ; μ] + I[T₃ : T₁ ; μ]$. -/\ntheorem construct_good_prelim' {G : Type u_1} [AddCommGroup G] [Fintype G] [hG : MeasurableSpace G] [MeasurableSingletonClass G] [ElementaryAddCommGroup G 2] [MeasurableAdd₂ G] {Ω₀₁ : Type u_2} {Ω₀₂ : Type u_3} [MeasureTheory.MeasureSpace Ω₀₁] [MeasureTheory.MeasureSpace Ω₀₂] {p : refPackage Ω₀₁ Ω₀₂ G} {Ω : Type u_4} [MeasureTheory.MeasureSpace Ω] {X₁ : Ω → G} {X₂ : Ω → G} (h_min : tau_minimizes p X₁ X₂) {Ω' : Type u_5} [MeasureTheory.MeasureSpace Ω'] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] {T₁ : Ω' → G} {T₂ : Ω' → G} {T₃ : Ω' → G} (hT : T₁ + T₂ + T₃ = 0) (hT₁ : Measurable T₁) (hT₂ : Measurable T₂) (hT₃ : Measurable T₃) : d[X₁ # X₂] ≤\n  I[T₁ : T₂] + I[T₂ : T₃] + I[T₃ : T₁] +\n    p.η * (d[p.X₀₁ # T₁ | T₃] - d[p.X₀₁ # X₁] + (d[p.X₀₂ # T₂ | T₃] - d[p.X₀₂ # X₂]))"}
{"name":"gen_ineq_10","declaration":"/-- Other version of `gen_ineq_00`, in which we switch to the complement in the first term. -/\ntheorem gen_ineq_10 {G : Type u_1} [AddCommGroup G] [Fintype G] [hG : MeasurableSpace G] [MeasurableSingletonClass G] [ElementaryAddCommGroup G 2] [MeasurableAdd₂ G] {Ω : Type u_2} [MeasureTheory.MeasureSpace Ω] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] {Ω₀ : Type u_3} [MeasureTheory.MeasureSpace Ω₀] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] (Y : Ω₀ → G) (hY : Measurable Y) (Z₁ : Ω → G) (Z₂ : Ω → G) (Z₃ : Ω → G) (Z₄ : Ω → G) (hZ₁ : Measurable Z₁) (hZ₂ : Measurable Z₂) (hZ₃ : Measurable Z₃) (hZ₄ : Measurable Z₄) (h_indep : ProbabilityTheory.iIndepFun (fun _i => hG) ![Z₁, Z₂, Z₃, Z₄] MeasureTheory.volume) : d[Y # Z₃ + Z₄ | ⟨Z₁ + Z₃, Z₁ + Z₂ + Z₃ + Z₄⟩] - d[Y # Z₁] ≤\n  (d[Z₁ # Z₂] + 2 * d[Z₁ # Z₃] + d[Z₂ # Z₄]) / 4 +\n      (d[Z₁ | Z₁ + Z₃ # Z₂ | Z₂ + Z₄] - d[Z₁ | Z₁ + Z₂ # Z₃ | Z₃ + Z₄]) / 4 +\n    (H[Z₁ + Z₂] - H[Z₃ + Z₄] + H[Z₂] - H[Z₃] + H[Z₂ | Z₂ + Z₄] - H[Z₁ | Z₁ + Z₃]) / 8"}
{"name":"PFR_conjecture_improv","declaration":"/-- The polynomial Freiman-Ruzsa (PFR) conjecture: if $A$ is a subset of an elementary abelian\n2-group of doubling constant at most $K$, then $A$ can be covered by at most $2K^{11$} cosets of\na subgroup of cardinality at most $|A|$. -/\ntheorem PFR_conjecture_improv {G : Type u_1} [AddCommGroup G] [ElementaryAddCommGroup G 2] [Fintype G] {A : Set G} {K : ℝ} (h₀A : Set.Nonempty A) (hA : ↑(Nat.card ↑(A + A)) ≤ K * ↑(Nat.card ↑A)) : ∃ H c, ↑(Nat.card ↑c) < 2 * K ^ 11 ∧ Nat.card ↥H ≤ Nat.card ↑A ∧ A ⊆ c + ↑H"}
{"name":"averaged_construct_good","declaration":"/-- $k$ is at most\n$$ \\leq I(U : V \\, | \\, S) + I(V : W \\, | \\,S) + I(W : U \\, | \\, S) + \\frac{\\eta}{6}  \\sum_{i=1}^2 \\sum_{A,B \\in \\{U,V,W\\}: A \\neq B} (d[X^0_i;A|B,S] - d[X^0_i; X_i]).$$\n-/\ntheorem averaged_construct_good {G : Type u_1} [AddCommGroup G] [Fintype G] [hG : MeasurableSpace G] [MeasurableSingletonClass G] [ElementaryAddCommGroup G 2] [MeasurableAdd₂ G] {Ω₀₁ : Type u_2} {Ω₀₂ : Type u_3} [MeasureTheory.MeasureSpace Ω₀₁] [MeasureTheory.MeasureSpace Ω₀₂] {p : refPackage Ω₀₁ Ω₀₂ G} {Ω : Type u_4} [MeasureTheory.MeasureSpace Ω] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] {X₁ : Ω → G} {X₂ : Ω → G} {X₁' : Ω → G} {X₂' : Ω → G} (hX₁ : Measurable X₁) (hX₂ : Measurable X₂) (hX₁' : Measurable X₁') (hX₂' : Measurable X₂') (h_min : tau_minimizes p X₁ X₂) : d[X₁ # X₂] ≤\n  I[X₁ + X₂ : X₁' + X₂|X₁ + X₂ + X₁' + X₂'] + I[X₁' + X₂ : X₁' + X₁|X₁ + X₂ + X₁' + X₂'] +\n      I[X₁' + X₁ : X₁ + X₂|X₁ + X₂ + X₁' + X₂'] +\n    p.η / 6 *\n      (d[p.X₀₁ # X₁ + X₂ | ⟨X₁' + X₂, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₁ # X₁] +\n                  (d[p.X₀₁ # X₁ + X₂ | ⟨X₁' + X₁, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₁ # X₁]) +\n                (d[p.X₀₁ # X₁' + X₂ | ⟨X₁ + X₂, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₁ # X₁]) +\n              (d[p.X₀₁ # X₁' + X₂ | ⟨X₁' + X₁, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₁ # X₁]) +\n            (d[p.X₀₁ # X₁' + X₁ | ⟨X₁ + X₂, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₁ # X₁]) +\n          (d[p.X₀₁ # X₁' + X₁ | ⟨X₁' + X₂, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₁ # X₁]) +\n        (d[p.X₀₂ # X₁ + X₂ | ⟨X₁' + X₂, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₂ # X₂] +\n                  (d[p.X₀₂ # X₁ + X₂ | ⟨X₁' + X₁, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₂ # X₂]) +\n                (d[p.X₀₂ # X₁' + X₂ | ⟨X₁ + X₂, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₂ # X₂]) +\n              (d[p.X₀₂ # X₁' + X₂ | ⟨X₁' + X₁, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₂ # X₂]) +\n            (d[p.X₀₂ # X₁' + X₁ | ⟨X₁ + X₂, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₂ # X₂]) +\n          (d[p.X₀₂ # X₁' + X₁ | ⟨X₁' + X₂, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₂ # X₂])))"}
{"name":"averaged_final","declaration":"theorem averaged_final {G : Type u_1} [AddCommGroup G] [Fintype G] [hG : MeasurableSpace G] [MeasurableSingletonClass G] [ElementaryAddCommGroup G 2] [MeasurableAdd₂ G] {Ω₀₁ : Type u_2} {Ω₀₂ : Type u_3} [MeasureTheory.MeasureSpace Ω₀₁] [MeasureTheory.MeasureSpace Ω₀₂] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] (p : refPackage Ω₀₁ Ω₀₂ G) {Ω : Type u_4} [MeasureTheory.MeasureSpace Ω] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] {X₁ : Ω → G} {X₂ : Ω → G} {X₁' : Ω → G} {X₂' : Ω → G} (hX₁ : Measurable X₁) (hX₂ : Measurable X₂) (hX₁' : Measurable X₁') (hX₂' : Measurable X₂') (h₁ : ProbabilityTheory.IdentDistrib X₁ X₁' MeasureTheory.volume MeasureTheory.volume) (h₂ : ProbabilityTheory.IdentDistrib X₂ X₂' MeasureTheory.volume MeasureTheory.volume) (h_indep : ProbabilityTheory.iIndepFun (fun _i => hG) ![X₁, X₂, X₂', X₁'] MeasureTheory.volume) (h_min : tau_minimizes p X₁ X₂) : d[X₁ # X₂] ≤\n  6 * p.η * d[X₁ # X₂] -\n      (1 - 5 * p.η) / (1 - p.η) * (2 * p.η * d[X₁ # X₂] - I[X₁ + X₂ : X₁' + X₂|X₁ + X₂ + X₁' + X₂']) +\n    p.η / 6 * (8 * d[X₁ # X₂] + 2 * (d[X₁ # X₁] + d[X₂ # X₂]))"}
{"name":"construct_good_improved'","declaration":"/-- In fact $k$ is at most\n$$ \\delta + \\frac{\\eta}{6}  \\sum_{i=1}^2 \\sum_{1 \\leq j,l \\leq 3; j \\neq l}\n    (d[X^0_i;T_j|T_l] - d[X^0_i; X_i]).$$\n-/\ntheorem construct_good_improved' {G : Type u_1} [AddCommGroup G] [Fintype G] [hG : MeasurableSpace G] [MeasurableSingletonClass G] [ElementaryAddCommGroup G 2] [MeasurableAdd₂ G] {Ω₀₁ : Type u_2} {Ω₀₂ : Type u_3} [MeasureTheory.MeasureSpace Ω₀₁] [MeasureTheory.MeasureSpace Ω₀₂] {p : refPackage Ω₀₁ Ω₀₂ G} {Ω : Type u_4} [MeasureTheory.MeasureSpace Ω] {X₁ : Ω → G} {X₂ : Ω → G} (h_min : tau_minimizes p X₁ X₂) {Ω' : Type u_5} [MeasureTheory.MeasureSpace Ω'] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] {T₁ : Ω' → G} {T₂ : Ω' → G} {T₃ : Ω' → G} (hT : T₁ + T₂ + T₃ = 0) (hT₁ : Measurable T₁) (hT₂ : Measurable T₂) (hT₃ : Measurable T₃) : d[X₁ # X₂] ≤\n  I[T₁ : T₂] + I[T₂ : T₃] + I[T₃ : T₁] +\n    p.η / 6 *\n      (d[p.X₀₁ # T₁ | T₂] - d[p.X₀₁ # X₁] + (d[p.X₀₁ # T₁ | T₃] - d[p.X₀₁ # X₁]) +\n                          (d[p.X₀₁ # T₂ | T₁] - d[p.X₀₁ # X₁]) +\n                        (d[p.X₀₁ # T₂ | T₃] - d[p.X₀₁ # X₁]) +\n                      (d[p.X₀₁ # T₃ | T₁] - d[p.X₀₁ # X₁]) +\n                    (d[p.X₀₁ # T₃ | T₂] - d[p.X₀₁ # X₁]) +\n                  (d[p.X₀₂ # T₁ | T₂] - d[p.X₀₂ # X₂]) +\n                (d[p.X₀₂ # T₁ | T₃] - d[p.X₀₂ # X₂]) +\n              (d[p.X₀₂ # T₂ | T₁] - d[p.X₀₂ # X₂]) +\n            (d[p.X₀₂ # T₂ | T₃] - d[p.X₀₂ # X₂]) +\n          (d[p.X₀₂ # T₃ | T₁] - d[p.X₀₂ # X₂]) +\n        (d[p.X₀₂ # T₃ | T₂] - d[p.X₀₂ # X₂]))"}
{"name":"dist_diff_bound_2","declaration":"theorem dist_diff_bound_2 {G : Type u_1} [AddCommGroup G] [Fintype G] [hG : MeasurableSpace G] [MeasurableSingletonClass G] [ElementaryAddCommGroup G 2] [MeasurableAdd₂ G] {Ω₀₁ : Type u_2} {Ω₀₂ : Type u_3} [MeasureTheory.MeasureSpace Ω₀₁] [MeasureTheory.MeasureSpace Ω₀₂] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] (p : refPackage Ω₀₁ Ω₀₂ G) {Ω : Type u_4} [MeasureTheory.MeasureSpace Ω] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] {X₁ : Ω → G} {X₂ : Ω → G} {X₁' : Ω → G} {X₂' : Ω → G} (hX₁ : Measurable X₁) (hX₂ : Measurable X₂) (hX₁' : Measurable X₁') (hX₂' : Measurable X₂') (h₁ : ProbabilityTheory.IdentDistrib X₁ X₁' MeasureTheory.volume MeasureTheory.volume) (h₂ : ProbabilityTheory.IdentDistrib X₂ X₂' MeasureTheory.volume MeasureTheory.volume) (h_indep : ProbabilityTheory.iIndepFun (fun _i => hG) ![X₁, X₂, X₂', X₁'] MeasureTheory.volume) : d[p.X₀₂ # X₁ + X₂ | ⟨X₁' + X₂, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₂ # X₂] +\n            (d[p.X₀₂ # X₁ + X₂ | ⟨X₁' + X₁, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₂ # X₂]) +\n          (d[p.X₀₂ # X₁' + X₂ | ⟨X₁ + X₂, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₂ # X₂]) +\n        (d[p.X₀₂ # X₁' + X₂ | ⟨X₁' + X₁, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₂ # X₂]) +\n      (d[p.X₀₂ # X₁' + X₁ | ⟨X₁ + X₂, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₂ # X₂]) +\n    (d[p.X₀₂ # X₁' + X₁ | ⟨X₁' + X₂, X₁ + X₂ + X₁' + X₂'⟩] - d[p.X₀₂ # X₂]) ≤\n  (16 * d[X₁ # X₂] + 6 * d[X₂ # X₂] + 2 * d[X₁ # X₁]) / 4 + (H[X₂ + X₂'] - H[X₁ + X₁']) / 4 +\n    (H[X₁ | X₁ + X₁'] - H[X₂ | X₂ + X₂']) / 4"}
{"name":"gen_ineq_01","declaration":"/-- Other version of `gen_ineq_00`, in which we switch to the complement in the second term. -/\ntheorem gen_ineq_01 {G : Type u_1} [AddCommGroup G] [Fintype G] [hG : MeasurableSpace G] [MeasurableSingletonClass G] [ElementaryAddCommGroup G 2] [MeasurableAdd₂ G] {Ω : Type u_2} [MeasureTheory.MeasureSpace Ω] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] {Ω₀ : Type u_3} [MeasureTheory.MeasureSpace Ω₀] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] (Y : Ω₀ → G) (hY : Measurable Y) (Z₁ : Ω → G) (Z₂ : Ω → G) (Z₃ : Ω → G) (Z₄ : Ω → G) (hZ₁ : Measurable Z₁) (hZ₂ : Measurable Z₂) (hZ₃ : Measurable Z₃) (hZ₄ : Measurable Z₄) (h_indep : ProbabilityTheory.iIndepFun (fun _i => hG) ![Z₁, Z₂, Z₃, Z₄] MeasureTheory.volume) : d[Y # Z₁ + Z₂ | ⟨Z₂ + Z₄, Z₁ + Z₂ + Z₃ + Z₄⟩] - d[Y # Z₁] ≤\n  (d[Z₁ # Z₂] + 2 * d[Z₁ # Z₃] + d[Z₂ # Z₄]) / 4 +\n      (d[Z₁ | Z₁ + Z₃ # Z₂ | Z₂ + Z₄] - d[Z₁ | Z₁ + Z₂ # Z₃ | Z₃ + Z₄]) / 4 +\n    (H[Z₁ + Z₂] - H[Z₃ + Z₄] + H[Z₂] - H[Z₃] + H[Z₂ | Z₂ + Z₄] - H[Z₁ | Z₁ + Z₃]) / 8"}
{"name":"gen_ineq_aux2","declaration":"theorem gen_ineq_aux2 {G : Type u_1} [AddCommGroup G] [Fintype G] [hG : MeasurableSpace G] [MeasurableSingletonClass G] [ElementaryAddCommGroup G 2] [MeasurableAdd₂ G] {Ω : Type u_2} [MeasureTheory.MeasureSpace Ω] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] {Ω₀ : Type u_3} [MeasureTheory.MeasureSpace Ω₀] [MeasureTheory.IsProbabilityMeasure MeasureTheory.volume] (Y : Ω₀ → G) (hY : Measurable Y) (Z₁ : Ω → G) (Z₂ : Ω → G) (Z₃ : Ω → G) (Z₄ : Ω → G) (hZ₁ : Measurable Z₁) (hZ₂ : Measurable Z₂) (hZ₃ : Measurable Z₃) (hZ₄ : Measurable Z₄) (h_indep : ProbabilityTheory.iIndepFun (fun _i => hG) ![Z₁, Z₂, Z₃, Z₄] MeasureTheory.volume) : d[Y # Z₁ + Z₂ | ⟨Z₁ + Z₃, Z₁ + Z₂ + Z₃ + Z₄⟩] ≤\n  d[Y # Z₁] + (d[Z₁ # Z₃] + d[Z₁ | Z₁ + Z₃ # Z₂ | Z₂ + Z₄]) / 2 +\n    (H[Z₂ | Z₂ + Z₄] - H[Z₁ | Z₁ + Z₃] + H[Z₁] - H[Z₃]) / 4"}
